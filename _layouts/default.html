<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ site.title }}</title>
  <meta name="description" content="{{ site.description }}">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}?v=2">
</head>
<body{% if page.body_class %} class="{{ page.body_class }}"{% endif %}>
  <div class="mobile-top-fade"></div>
  {{ content }}
  <script>
    // Hamburger menu
    (function() {
      var hamburger = document.querySelector('.hamburger');
      var nav = document.querySelector('.nav');
      if (!hamburger) return;
      hamburger.addEventListener('click', function() {
        nav.classList.toggle('nav--open');
      });
      nav.querySelectorAll('.nav__links a').forEach(function(link) {
        link.addEventListener('click', function() {
          nav.classList.remove('nav--open');
        });
      });
    })();
  </script>
  <script>
    (function() {
      const videos = document.querySelectorAll('.banner-video');
      const captions = document.querySelectorAll('.banner-caption');
      if (videos.length < 2) return;
      var durations = [8000, 6800, 3500]; // ms per video
      var current = 0;
      videos.forEach(function(v, i) {
        if (i !== 0) v.pause();
      });
      function next() {
        videos[current].classList.remove('banner-video--active');
        if (captions[current]) captions[current].classList.remove('banner-caption--active');
        current = (current + 1) % videos.length;
        videos[current].currentTime = 0;
        videos[current].play();
        videos[current].classList.add('banner-video--active');
        if (captions[current]) captions[current].classList.add('banner-caption--active');
        var prev = (current - 1 + videos.length) % videos.length;
        setTimeout(function() { videos[prev].pause(); }, 1000);
        setTimeout(next, durations[current]);
      }
      setTimeout(next, durations[0]);
    })();
  </script>
</body>
</html>
